<h1>Reactive Form Component</h1>
<div class="container mx-auto">
  <div class="lg:w-1/2 xl:w-1/3 mx-auto">
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <div [formGroupName]="'userData'">
        <div class="mb-4">
          <label
            for="username"
            class="block text-gray-700 text-sm font-bold mb-2">
            Username
          </label>
          <input
            type="text"
            id="username"
            formControlName="username"
            class="w-full p-2 border rounded" />
          </div>
          @if (
            !signupForm.get('userData.username')?.valid &&
            signupForm.get('userData.username')?.touched
            ) {
            <span
              class="text-red-500 text-sm pb-4">
              Username is required
            </span>
          }
          <div class="mb-4">
            <label
              for="email"
              class="block text-gray-700 text-sm font-bold mb-2">
              Email
            </label>
            <input
              type="text"
              id="email"
              formControlName="email"
              class="w-full p-2 border rounded" />
            </div>
          </div>
          @if (
            !signupForm.get('userData.email')?.valid &&
            signupForm.get('userData.email')?.touched
            ) {
            <span
              class="text-red-500 text-sm pb-4">
              A valid Email is required
            </span>
          }

          <div class="mb-4">
            @for (item of genders; track item) {
              <div class="flex items-center">
                <input
                  type="radio"
                  formControlName="gender"
                  [value]="item"
                  class="mr-2" />
                  <label for="male" class="text-sm">{{ item }} </label>
                </div>
              }
            </div>
            <div formArrayName="hobbies">
              <h4>Your Hobies</h4>
              <button
                (click)="onAddHobby()"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
                type="button">
                Add Hobby
              </button>
              @for (
                hobbyControl of signupForm.get('hobbies')?.value; track
                hobbyControl; let i = $index) {
                <div
                  >
                  <input
                    class="w-full p-2 border rounded"
                    type="text"
                    [formControlName]="i" />
                  </div>
                }
              </div>
              <button
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
                type="submit">
                Submit
              </button>
            </form>
          </div>
        </div>
